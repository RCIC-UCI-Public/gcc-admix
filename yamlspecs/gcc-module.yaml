# Builds the module for gcc
!include gcc.yaml
!include rcic-module.yaml
---
- package: GCC Module
  pkgname: "{{name}}_{{version}}-module"
  src_tarball: None
  no_src_dir: True
  category: COMPILERS
  module:
    lib: lib64
    setenv:
      - "{{mod_defaults.setenv}}"
      - GCC_INSTALL_PREFIX {{prefix}}
      - CPP {{prefix}}/bin/cpp
      - CC {{prefix}}/bin/gcc
      - CXX {{prefix}}/bin/g++
      - OBJC {{prefix}}/bin/gcc
      - OBJCXX {{prefix}}/bin/g++
      - FC  {{prefix}}/bin/gfortran
      - F77 {{prefix}}/bin/gfortran
      - F90 {{prefix}}/bin/gfortran
    prepend_path:
      - "{{mod_defaults.prepend_path}}"
      - "{{mod_defaults.flagspath}}"
      - LD_LIBRARY_PATH {{prefix}}/lib/gcc/x86_64-pc-linux-gnu/{{gcc_version}}
